<!DOCTYPE html>
<html lang="en">
<head>
    <!--页面字符编码-->
    <meta charset="UTF-8">
    <!--页面自适应宽度-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!--链接图标，使用Google图库-->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <title>Title</title>
    <style>
        /*全局样式设置*/
        html, body {
            margin: 0;
            padding: 0;
            height: 100%;
            font-family: Arial, sans-serif;
        }

        /*<!--网页背景图-->*/
        body{
        margin: 0;
        padding: 0;
        height: 100%;
        font-family: Arial, sans-serif;
        background-image: url("{{ url_for('static', filename='images/image2.jpg') }}");
        background-size: cover;
        background-position: center;
        }

        /* 全屏覆盖的背景 */
        .background-cover {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: -1;
            pointer-events: none; /* 使鼠标事件不在这个元素上触发 */
            opacity: 0; /* 默认透明 */
            transition: opacity 0.5s; /* 渐变效果 */
        }

        /* 每个区域的默认样式 */
        .main-content > div {
            position: relative; /* 为伪元素定位准备 */
            z-index: 1; /* 确保在覆盖背景之上 */
        }

        /* 伪元素，用于在鼠标悬停时显示原有颜色和文字 */
        .main-content > div::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: inherit; /* 继承div的背景颜色 */
            z-index: -1;
            opacity: 0; /* 默认透明 */
            transition: opacity 2s; /* 渐变效果 */
        }

        /* 鼠标悬停时的样式 */
        .main-content > div:hover::before {
            opacity: 1; /* 显示颜色 */
        }

        /* 设置初始颜色 */
        #sample {
            background-color: #b0c4de;
        }

        #upload {
            background-color: #e8ccd7;
        }

        #history {
            background-color: #f5f5dc;
        }


        /*导航栏*/
        .navbar {
            display: flex;
            flex-direction: row;
            align-items: center;
            background-color: #eaeaea;
            padding: 10px;
        }

        .navbar a,
        .navbar a:visited,
        .navbar a:hover,
        .navbar a:active {
            text-decoration: none;
            color: black;
            background-color: transparent;
            margin: 2px;
            padding: 15px 20px;
            transition: background-color 0.3s ease;
        }

        .navbar a:last-child {
            margin-left: auto;
        }

        #sample a,
        #sample a:visited {
            text-decoration: none;
            color: inherit;
        }

        #upload a,
        #upload a:visited {
            text-decoration: none;
            color: inherit;
        }

        #history a,
        #history a:visited {
            text-decoration: none;
            color: inherit;
        }

        /*主要内容（文字）边框布局交互背景*/
        .main-content {
            display: flex;
            flex-direction: row;
            height: calc(100vh - 40px);
            justify-content: center;
        }
        .main-content > div {
            display: flex;
            justify-content: center;
            align-items: center;
            flex: 1;
            padding: 20px;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-sizing: border-box;
            margin: 3px;
            opacity: 0.7;
            transition: opacity 0.5s;
        }

        .main-content > div:hover{
            opacity: 1;
        }
        .main-content > div:active{
            transform: translateY(4px);
        }
        .navbar div{
            margin: 10px;
        }

        /*home图标*/
         .material-symbols-outlined {
             font-variation-settings:
                     'FILL' 0,
                     'wght' 400,
                     'GRAD' 0,
                     'opsz' 48
         }

        /*[[me]部分效果*/
        /* 侧边栏样式 */
        .side-nav {
            height: 100%;
            width: 0;
            position: fixed;
            z-index: 2;
            top: 0;
            left: 0;
            background-color: #1c1c1c;
            overflow-x: hidden;
            transition: 0.5s; /* 动画过渡效果 */
            padding-top: 60px;
        }

        /* 侧边栏链接样式 */
        .nav-link {
            padding: 8px 8px 8px 32px;
            text-decoration: none;
            font-size: 20px;
            color: #fff;
            display: block;
            transition: 0.3s;
        }

        /* 鼠标悬停在链接上时的效果 */
        .nav-link:hover {
            background-color: #555;
        }

        /* 页面颜色变暗的覆盖层 */
        .overlay {
            height: 100%;
            width: 100%;
            position: fixed;
            z-index: 1;
            top: 0;
            left: 0;
            background-color: rgba(0,0,0, 0.5);
            overflow-x: hidden;
            transition: 0.5s;
            display: none;
        }

        /* contact me部分 模态框（Modal）样式 */
        .modal {
            display: none; /* 默认隐藏模态框 */
            position: fixed; /* 固定定位 */
            z-index: 1; /* 置于顶层 */
            left: 0;
            top: 0;
            width: 100%; /* 全屏宽 */
            height: 100%; /* 全屏高 */
            overflow: auto; /* 超出滚动 */
            background-color: rgb(0,0,0); /* 背景颜色 */
            background-color: rgba(0,0,0,0.4); /* 黑色背景透明度 */
        }

        /* 模态框内容 */
        .modal-content {
            background-color: #fefefe;
            margin: 15% auto; /* 15% 从顶部和自动水平居中 */
            padding: 20px;
            border: 1px solid #888;
            width: 900px; /* 宽度 */
            height: 400px; /* 高度 */
        }

        textarea#userInput{
            width: calc(100% - 40px);
            height: 250px;
            margin-bottom: 10px;
            padding: 10px; /* 内边距 */
            border: 1px solid #ddd; /* 边框颜色 */
            border-radius: 5px; /* 轻微的圆角边框 */
            resize: none; /* 禁止调整大小 */
        }
        /* 提交和取消按钮样式 */
        .modal-buttons button {
            margin-right: 10px; /* 为按钮添加右边距 */
        }
        /* 关闭按钮（x） */
        .close-button {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }


        .close-button:hover,
        .close-button:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }
    </style>

    <style>
    .collapsible {
    cursor: pointer;
    padding: 10px;
    width: 100%;
    text-align: left;
    border: none;
    outline: none;
    transition: background-color 0.2s ease;
    }

    .collapsible {
    padding-left: 32px;
    }


    .content {
    padding: 0 18px;
    display: none;
    overflow: hidden;
    background-color: #f9f9f9;
    }
    </style>

</head>
<body>
<div class="background-cover"></div> <!-- 背景覆盖层 -->

<div class="navbar">
    <a href="#" title="Me"><span class="material-symbols-outlined">account_circle</span></a>
    <a href="#" title="Information"><span class="material-symbols-outlined">quiz</span></a>
    <a href="#" title="Contact us"><span class="material-symbols-outlined">forum</span></a>
    <a href="{{ url_for('index') }}" title="Home"><span class="material-symbols-outlined">Home</span></a>
</div>

<div class="main-content">
    <div id="sample">
        <a href="{{ url_for('sample_compare') }}" title="<h2>Sample</h2>"><h1>Sample</h1></a>
    </div>

    <div id="upload">
        <a href="{{ url_for('upload') }}" title="<h2>Upload</h2>">
            <h1>Upload</h1></a>
    </div>

    <div id="history">
    <a href="{{ url_for('history') }}" title="history">
        <h1>History</h1>
    </a>
</div>

</div>

<!-- [[me]侧边栏 -->
<div id="sideNav" class="side-nav">
    <a href="#" class="nav-link">my profile</a>
    <a href="#" class="nav-link">log out</a>
    <a href="#" class="nav-link">?anythingElse?</a>
</div>

<!--information侧边栏-->
<div id="infoNav" class="side-nav">
    <a href="#" class="nav-link">foreword</a>
    <a href="#" class="nav-link">comment</a>
    <a href="#" class="nav-link collapsible">Cited Literatures</a>
    <div class="content">
        <p>Here is the cited literature list:</p>
        <ul>
            <li>Document 1</li>
            <li>Document 2</li>
            <li>Document 3</li>
        </ul>
    </div>
    <a href="#" class="nav-link">we say..</a>
</div>

<script>
var coll = document.getElementsByClassName("collapsible");
var i;

for (i = 0; i < coll.length; i++) {
    coll[i].addEventListener("click", function() {
        this.classList.toggle("active");
        var content = this.nextElementSibling;
        if (content.style.display === "block") {
            content.style.display = "none";
        } else {
            content.style.display = "block";
        }
    });
}
</script>


<!-- contact me模态框（Modal） -->
<div id="contactModal" class="modal">
    <div class="modal-content">
        <span class="close-button">&times;</span>
        <h3>Say anything, we can see</h3>
        <textarea id="userInput" placeholder="Hi,message here..."></textarea>
        <div class="modal-bottons">
            <button id="submitBtn">Submit</button>
            <button id="cancelBtn">Cancel</button>
        </div>
    </div>
</div>

<script>
    /*背景设置*/
    // 获取背景覆盖层
    var backgroundCover = document.querySelector('.background-cover');

    // 获取所有主内容区域的div
    var contentDivs = document.querySelectorAll('.main-content > div');

    // 为每个div添加鼠标事件
    contentDivs.forEach(function(div) {
        div.addEventListener('mouseenter', function() {
            // 鼠标悬停时，背景覆盖层显示变暗
            backgroundCover.style.opacity = 1;
        });
        div.addEventListener('mouseleave', function() {
            // 鼠标离开时，背景覆盖层隐藏
            backgroundCover.style.opacity = 0;
        });
    });

    /*me部分*/
    // 获取侧边栏元素
    var sideNav = document.getElementById('sideNav');
    // 获取覆盖层元素
    var overlay = document.createElement('div');
    overlay.className = 'overlay';
    // 将覆盖层添加到页面中
    document.body.appendChild(overlay);

    // 获取打开侧边栏的按钮
    var meBtn = document.querySelector('.navbar a[title="Me"]');

    // 点击按钮打开侧边栏
    meBtn.onclick = function() {
        sideNav.style.width = '25%'; // 设置侧边栏宽度为屏幕的1/4
        overlay.style.display = 'block'; // 显示覆盖层
    }

    // 点击覆盖层关闭侧边栏
    overlay.onclick = function() {
        sideNav.style.width = '0';
        overlay.style.display = 'none';
    }

    /*Information栏*/
    // 获取 Information 侧边栏元素
    var infoNav = document.getElementById('infoNav');
    // 获取 Information 按钮
    var infoBtn = document.querySelector('.navbar a[title="Information"]');

    // 点击 Information 按钮打开侧边栏
    infoBtn.onclick = function() {
        infoNav.style.width = '25%'; // 设置侧边栏宽度为屏幕的1/4
        overlay.style.display = 'block'; // 显示覆盖层
    }

    // 使用同一个覆盖层元素关闭侧边栏
    overlay.onclick = function() {
        // 关闭所有可能打开的侧边栏
        closeSideNavs();
    }

    function closeSideNavs() {
        // 设置所有侧边栏的宽度为 0 来关闭它们
        var sideNavs = document.getElementsByClassName('side-nav');
        for(var i = 0; i < sideNavs.length; i++) {
            sideNavs[i].style.width = '0';
        }
        // 隐藏覆盖层
        overlay.style.display = 'none';
    }

    /*contact me部分*/
    // 获取模态框元素
    var modal = document.getElementById('contactModal');
    // 获取打开模态框的按钮
    var btn = document.querySelector('.navbar a[title="Contact us"]');
    // 获取关闭按钮元素
    var span = document.getElementsByClassName('close-button')[0];
    // 获取取消按钮元素
    var cancelBtn = document.getElementById('cancelBtn');
    // 获取提交按钮
    var submitBtn = document.getElementById('submitBtn');
    // 获取用户输入元素
    var userInput = document.getElementById('userInput');

    // 点击按钮打开模态框
    btn.onclick = function() {
        modal.style.display = 'block';
    }

    // 点击（x）按钮关闭模态框
    span.onclick = function() {
        modal.style.display = 'none';
    }

    // 点击取消按钮关闭模态框
    cancelBtn.onclick = function() {
        modal.style.display = 'none';
    }

    // 点击模态框外部时关闭模态框
    window.onclick = function(event) {
        if (event.target == modal) {
            modal.style.display = 'none';
        }
    }

    // 点击提交按钮发送邮件
    submitBtn.onclick = function() {
        var subject = encodeURIComponent('Message from the Contact Modal');
        var body = encodeURIComponent(userInput.value);
        var mailtoLink = 'mailto:1564905699@qq.com?subject=' + subject + '&body=' + body;
        window.location.href = mailtoLink; // 打开用户默认的邮件客户端
    }
</script>
</body>
</html>